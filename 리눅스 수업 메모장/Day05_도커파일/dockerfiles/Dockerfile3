# 베이스 이미지
FROM ubuntu:22.04

# 이미지 빌드 시 전달 받는 인자값
# 이미지 빌드 시점에서만 사용이 가능함 (컨테이너 실행 시 사용이 불가능함)
# docker build --build-arg BUILD_MSG=값
# $BUILD_MSG, ${BUILD_MSG} 방식으로 도커 파일 내부에서 값 확인 가능
ARG BUILD_MSG

# 이미지 빌드 시 실행할 명령어
# 용도  : 이미지를 만들 때 필요한 작업 (소프트웨어 패키지 설치, 파일 복사, 설정 변경 등)
# 레이어: 각 RUN 명령은 새로운 레이어를 생성하므로 가능하면 줄이는 것이 유리함
RUN echo 이미지 빌드 시점 : $BUILD_MSG

### 실행방법
### 1. 이미지 빌드 (이미지 만들기)
###    --build-arg BUILD_MSG=Hello : ARG BUILD_MSG로 Hello 전달
###    goodee@server1:~/dockerfiles$ docker build --build-arg BUILD_MSG=Hello -t myubuntu:3.0 -f Dockerfile3 .
###    ...
###    => [2/2] RUN echo 이미지 빌드 시점 : Hello                                             0.9sporting to image
###    ...
###    이미지 빌드 로그 중 위 메시지가 나타나면 성공 (컨테이너는 실행할 필요 없음)